[{"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/index.js":"1","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/App.js":"2","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/reportWebVitals.js":"3","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/login.jsx":"4","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/searchMovies.jsx":"5","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/moviePage.jsx":"6","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/tvShow.jsx":"7","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/notFound.jsx":"8","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/register.jsx":"9","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/libraryMovie.jsx":"10","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/movies.jsx":"11","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/searchTvShow.jsx":"12","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/tvShowPage.jsx":"13","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/tvShowService.js":"14","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/movieService.js":"15","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/utils/paginate.js":"16","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/ListMovie.jsx":"17","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/card.jsx":"18","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/pagination.jsx":"19","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/form.jsx":"20","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/listFilter.jsx":"21","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/input.jsx":"22","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/userService.js":"23","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/httpService.js":"24","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/logService.js":"25","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/authService.js":"26","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/logout.jsx":"27","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/protectedRoute.jsx":"28","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/watchList.jsx":"29","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/watchlistservice.js":"30","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/genres.js":"31","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/button.jsx":"32","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/libraryGenre.jsx":"33","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/utils/date.js":"34","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/listMovie.jsx":"35","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/searchBar.jsx":"36","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/watchlistButton.jsx":"37","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/loader.jsx":"38","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/navbar.jsx":"39","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/utils/path.js":"40","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/trailer.jsx":"41","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/movie.jsx":"42"},{"size":617,"mtime":1613677416385,"results":"43","hashOfConfig":"44"},{"size":2460,"mtime":1613654234963,"results":"45","hashOfConfig":"44"},{"size":362,"mtime":1607871675001,"results":"46","hashOfConfig":"44"},{"size":1194,"mtime":1613389415786,"results":"47","hashOfConfig":"44"},{"size":1524,"mtime":1613590225996,"results":"48","hashOfConfig":"44"},{"size":4984,"mtime":1613658529753,"results":"49","hashOfConfig":"44"},{"size":2677,"mtime":1613655761870,"results":"50","hashOfConfig":"44"},{"size":111,"mtime":1607896826855,"results":"51","hashOfConfig":"44"},{"size":1311,"mtime":1613655748560,"results":"52","hashOfConfig":"44"},{"size":5405,"mtime":1613659669284,"results":"53","hashOfConfig":"44"},{"size":3135,"mtime":1614267150924,"results":"54","hashOfConfig":"44"},{"size":1522,"mtime":1613590300977,"results":"55","hashOfConfig":"44"},{"size":2449,"mtime":1613402217844,"results":"56","hashOfConfig":"44"},{"size":964,"mtime":1613676102442,"results":"57","hashOfConfig":"44"},{"size":2183,"mtime":1613675219315,"results":"58","hashOfConfig":"44"},{"size":211,"mtime":1608297756289,"results":"59","hashOfConfig":"44"},{"size":956,"mtime":1613388449599,"results":"60","hashOfConfig":"44"},{"size":1070,"mtime":1613655317540,"results":"61","hashOfConfig":"44"},{"size":597,"mtime":1614267176243,"results":"62","hashOfConfig":"44"},{"size":1888,"mtime":1611740302837,"results":"63","hashOfConfig":"44"},{"size":896,"mtime":1613400004149,"results":"64","hashOfConfig":"44"},{"size":429,"mtime":1611739686344,"results":"65","hashOfConfig":"44"},{"size":261,"mtime":1611653575114,"results":"66","hashOfConfig":"44"},{"size":681,"mtime":1613674788679,"results":"67","hashOfConfig":"44"},{"size":109,"mtime":1608129270254,"results":"68","hashOfConfig":"44"},{"size":813,"mtime":1613657006317,"results":"69","hashOfConfig":"44"},{"size":252,"mtime":1613400082268,"results":"70","hashOfConfig":"44"},{"size":464,"mtime":1611823180542,"results":"71","hashOfConfig":"44"},{"size":1118,"mtime":1613402237534,"results":"72","hashOfConfig":"44"},{"size":411,"mtime":1613673852025,"results":"73","hashOfConfig":"44"},{"size":264,"mtime":1613659835573,"results":"74","hashOfConfig":"44"},{"size":155,"mtime":1612911063893,"results":"75","hashOfConfig":"44"},{"size":4801,"mtime":1613655534951,"results":"76","hashOfConfig":"44"},{"size":1036,"mtime":1613656256121,"results":"77","hashOfConfig":"44"},{"size":937,"mtime":1613655548191,"results":"78","hashOfConfig":"44"},{"size":538,"mtime":1613388915232,"results":"79","hashOfConfig":"44"},{"size":348,"mtime":1613399716817,"results":"80","hashOfConfig":"44"},{"size":282,"mtime":1613389302581,"results":"81","hashOfConfig":"44"},{"size":758,"mtime":1613399671849,"results":"82","hashOfConfig":"44"},{"size":145,"mtime":1613655890506,"results":"83","hashOfConfig":"44"},{"size":387,"mtime":1613401846410,"results":"84","hashOfConfig":"44"},{"size":1132,"mtime":1613401763886,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"1p2w871",{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"88"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"88"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"88"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"88"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"88"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"88"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"88"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"158"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163","usedDeprecatedRules":"88"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"176","usedDeprecatedRules":"88"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"179","usedDeprecatedRules":"88"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"182","usedDeprecatedRules":"88"},"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/index.js",[],["183","184"],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/App.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/reportWebVitals.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/login.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/searchMovies.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/moviePage.jsx",["185"],"import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport {\n  getMovie,\n  getConfigMovie,\n  getRecommendedMovie,\n  addWatchlist,\n  getWatchlist,\n  removeWatchlist,\n  getMovieTrailer,\n} from \"../services/movieService\";\nimport { getCurrentUser } from \"../services/authService\";\n\nimport WatchlistButton from \"./common/watchlistButton\";\nimport Movie from \"./common/movie\";\n\nclass MoviePage extends Component {\n  state = {\n    movie: [],\n    casting: [],\n    recommendedMovies: [],\n    recommendedPoster_Path: \"\",\n    fullPath: \"\",\n    poster_path: \"\",\n    isLoading: false,\n    pageSize: 6,\n    currentRecommendedPage: 1,\n    watchlist: \"\",\n  };\n\n  async componentDidMount() {\n    // Get Movie\n    try {\n      const movieId = this.props.match.params.id;\n      const { data: movie } = await getMovie(movieId);\n      this.setState({ movie });\n    } catch (error) {\n      if (error.response && error.response.status === 404)\n        toast.error(\"Un problème est survenu veuillez réessayer.\");\n    }\n\n    // Get Watchlist\n    try {\n      const { movie } = this.state;\n      const movieId = movie.id;\n      const { data: watchlist } = await getWatchlist(movieId);\n      this.setState({ watchlist });\n    } catch (ex) {}\n\n    // Get Poster\n    try {\n      const { data: path } = await getConfigMovie();\n      const { data: movieInfo } = await getMovie(this.props.match.params.id);\n      const moviePoster = movieInfo.poster_path;\n\n      const poster_path = path.images;\n      const finalPath =\n        poster_path.secure_base_url + poster_path.logo_sizes[6] + moviePoster;\n      this.setState({ poster_path: finalPath });\n    } catch (error) {\n      toast.error(\"Nous n'avons pas réussi à charger l'image...\");\n    }\n\n    // Get casting & profile\n\n    try {\n      const { data: path } = await getConfigMovie();\n      const url = path.images.secure_base_url;\n      const size = path.images.profile_sizes[3];\n      const fullPath = url + size;\n      this.setState({ fullPath });\n    } catch (error) {\n      if (error.response && error.response.status === 404)\n        toast.error(\"Un problème est survenu veuillez réessayer.\");\n    }\n\n\n    // Get Trailer\n    try {\n      const movieId = this.props.match.params.id;\n      const { data: trailer } = await getMovieTrailer(movieId);\n      const result = trailer.results[0];\n      this.setState({ movieTrailer: result });\n    } catch {}\n\n    // Recommended movies\n    try {\n      const { data: conf } = await getConfigMovie();\n      const recommendedPoster_Path = conf.images;\n\n      const movieId = this.props.match.params.id;\n      const { data: movie } = await getRecommendedMovie(movieId);\n      const recMovie = movie.results;\n\n      this.setState({ recommendedMovies: recMovie, recommendedPoster_Path });\n    } catch (error) {\n      if (error.response && error.response.status === 404)\n        toast.error(\"Recommended movies couldn't rendered.\");\n    }\n\n    this.setState({\n      isLoading: true,\n    });\n  }\n\n  handlePageChangeRecommended = (page) => {\n    this.setState({ currentRecommendedPage: page });\n  };\n\n  handleAddWatchlist = async (e) => {\n    try {\n      e.preventDefault();\n      const token = localStorage.getItem(\"token\");\n      const { movie } = this.state;\n      const currentUser = getCurrentUser();\n      const userId = currentUser._id;\n      const { data } = await addWatchlist(movie, token, userId);\n      this.setState({ watchlist: data });\n      toast.success(\"Movie successfully added to your watchlist.\");\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400)\n        toast.error(ex.response.data);\n    }\n  };\n\n  handleRemoveWatchlist = async (e) => {\n    try {\n      e.preventDefault();\n      const token = localStorage.getItem(\"token\");\n      const { movie } = this.state;\n      const movieId = movie.id;\n      const { data: watchlist } = await removeWatchlist(movieId, token);\n      this.setState({ watchlist: \"\" });\n      toast.success(\"Movie successfully removed from your watchlist.\");\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400)\n        toast.error(ex.response.data);\n    }\n  };\n\n  render() {\n    const movie = this.state.movie;\n\n    const { poster_path, movieTrailer } = this.state;\n\n    const checkWatchlist = this.state.watchlist;\n    let isWatchlist;\n    if (!checkWatchlist) {\n      isWatchlist = (\n        <WatchlistButton\n          onClick={this.handleAddWatchlist}\n          label=\"Add to watchlist\"\n        />\n      );\n    } else {\n      isWatchlist = (\n        <WatchlistButton\n          onClick={this.handleRemoveWatchlist}\n          label=\"Remove to watchlist\"\n        />\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <div className=\"movie-page-container\">\n          <Movie\n            movie={movie}\n            movieKey={movieTrailer}\n            isWatchlist={isWatchlist}\n            posterPath={poster_path}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MoviePage;\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/tvShow.jsx",["186"],"import React, { Component } from \"react\";\nimport {\n  getPopularTvShow,\n  getConfigTvShow,\n  searchTvShow,\n  getTopRatedTvShow\n} from \"../services/tvShowService\";\nimport { paginate } from \"../utils/paginate\";\nimport { toast } from \"react-toastify\";\n\nimport SearchBar from \"./common/searchBar\";\nimport ListMovie from \"./listMovie\";\nimport ListFilter from './listFilter';\n\nclass TvShow extends Component {\n  state = {\n    pageSize: 12,\n    popTvShow: [],\n    topRatedTvShow: [],\n    currentPagePopular: 1,\n    currentPageTopRated: 1,\n    poster_path: [],\n    searchQuery: \"\",\n    isLoading: false,\n  };\n\n  async componentDidMount() {\n    const { data: conf } = await getConfigTvShow();\n    const poster_path = conf.images;\n\n    const { data: popularTvShow } = await getPopularTvShow();\n    const popTvShow = popularTvShow.results;\n\n    const { data: TopRated } = await getTopRatedTvShow();\n    const topRatedTvShow = TopRated.results;\n\n    this.setState({ popTvShow, poster_path, topRatedTvShow, isLoading: true });\n  }\n\n  handlePageChangePopular = (page) => {\n    this.setState({ currentPagePopular: page });\n  };\n\n  handlePageChangeTopRated = (page) => {\n    this.setState({ currentPageTopRated: page });\n  };\n\n  handleSearch = (e) => {\n    this.setState({ searchQuery: e.target.value });\n  };\n\n  handleSubmit = async (e) => {\n    try {\n      e.preventDefault();\n      const { searchQuery: data } = this.state;\n      console.log(data);\n      // return window.location.search = data;\n      const { data: result } = await searchTvShow(data);\n\n      return (window.location = \"/search/tv/\" + data);\n    } catch (error) {\n      if (\n        error.response &&\n        error.response.status >= 400 &&\n        error.response.status <= 500\n      )\n        toast.error(\"No tv show insered.\");\n    }\n  };\n  render() {\n    const { length: count } = this.state.popTvShow;\n    const {\n      pageSize,\n      currentPagePopular,\n      popTvShow,\n      poster_path,\n      isLoading,\n    } = this.state;\n\n    const popular = paginate(popTvShow, currentPagePopular, pageSize);\n    const {user} = this.props;\n\n    return (\n      <div>\n        <SearchBar\n          value={this.searchQuery}\n          onChange={this.handleSearch}\n          onSubmit={this.handleSubmit}\n        />\n        <ListFilter logged={user} />\n        <ListMovie\n          itemsCount={count}\n          pageSize={pageSize}\n          currentPage={currentPagePopular}\n          onPageChange={this.handlePageChangePopular}\n          title=\"Popular Tv Shows\"\n          movies={popular}\n          path={poster_path}\n          pathLink=\"/tv/\"\n          loader={isLoading}\n        />\n      </div>\n    );\n  }\n}\n\nexport default TvShow;\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/notFound.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/register.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/libraryMovie.jsx",["187"],"import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { getGenres } from \"../services/genres\";\nimport {\n  getMoviesByGender,\n  getDiscoverPaginated,\n  searchMovie,\n} from \"../services/movieService\";\nimport { getConfigMovie } from \"../services/movieService\";\nimport { Link, generatePath } from \"react-router-dom\";\n\nimport Card from \"./common/card\";\nimport SearchBar from \"./common/searchBar\";\nimport ListFilter from './listFilter';\n\nclass Library extends Component {\n  constructor() {\n    super();\n    this.state = {\n      allGenres: [],\n      movies: [],\n      currentPage: 1,\n      params: \"\",\n      poster_path: [],\n      isLoading: false,\n      searchQuery: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      // Get genres\n      const { data } = await getGenres();\n      const allGenres = data.genres;\n  \n      const params = this.props.match.params.id;\n\n      // Get Movie Paginated\n      let movies = await getDiscoverPaginated(\"&page=\", params);\n      movies = movies.data;\n\n      const currentPage = parseInt(params);\n\n      // Get Poster Image\n      const { data: conf } = await getConfigMovie();\n      const poster_path = conf.images;\n\n      this.setState({\n        allGenres,\n        movies,\n        poster_path,\n        currentPage,\n        params,\n        isLoading: true,\n      });\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const currentProps = this.props.match.params.id;\n    const previousProps = prevProps.match.params.id;\n    if (currentProps !== previousProps) {\n      const { data: movies } = await getDiscoverPaginated(\n        \"&page=\",\n        currentProps\n      );\n      this.setState({ movies });\n    }\n  }\n\n  handlePageNext = async () => {\n    try {\n      const currentPage = this.state.currentPage + 1;\n      const { data: movies } = await getDiscoverPaginated(\n        \"&page=\",\n        currentPage\n      );\n      this.setState({ currentPage, movies });\n    } catch (error) {\n      toast.error(\"Something went wrong.\");\n    }\n  };\n\n  handlePagePrev = async () => {\n    try {\n      const currentPage = this.state.currentPage - 1;\n      const { data: movies } = await getDiscoverPaginated(\n        \"&page=\",\n        currentPage\n      );\n      this.setState({ movies, currentPage });\n    } catch (error) {\n      toast.error(\"Something went wrong.\");\n    }\n  };\n\n  handleGenre = async (e, genre) => {\n    try {\n      const { data: movies } = await getMoviesByGender(genre);\n      this.props.match.params.id = 1;\n      this.setState({ movies, genre });\n    } catch (error) {\n      toast.error('Something went wrong.')\n    }\n  };\n\n  getCurrentPageNext = () => {\n    const page = this.state.currentPage + 1;\n    return generatePath(\"/library/page/:id\", { id: page });\n  };\n\n  getCurrentPagePrevious = () => {\n    const page = this.state.currentPage - 1;\n    return generatePath(\"/library/page/:id\", { id: page });\n  };\n\n  handleSearch = (e) => {\n    this.setState({ searchQuery: e.target.value });\n  };\n\n  handleSubmit = async (e) => {\n    try {\n      e.preventDefault();\n      const { searchQuery: data } = this.state;\n      // return window.location.search = data;\n      const { data: result } = await searchMovie(data);\n      return (window.location = \"/search/movies/\" + data);\n    } catch (error) {\n      if (\n        error.response &&\n        error.response.status >= 400 &&\n        error.response.status <= 500\n      )\n        toast.error(\"No movie insered.\");\n    }\n  };\n\n  render() {\n    const { allGenres, movies, poster_path } = this.state;\n    const nextPage = this.getCurrentPageNext();\n    const previousPage = this.getCurrentPagePrevious();\n    const user = this.props;\n\n    return (\n      <React.Fragment>\n        <div>\n          <SearchBar\n            value={this.searchQuery}\n            onChange={this.handleSearch}\n            onSubmit={this.handleSubmit}\n          />\n        </div>\n        <ListFilter logged={user} />\n        <div className=\"library-container\">\n          <div className=\"sidebar\">\n            {allGenres &&\n              allGenres.map((genre) => (\n                <ul key={genre.id}>\n                  <li>\n                    <Link\n                      onClick={(e) => this.handleGenre(e, genre.id)}\n                      to={generatePath(`/library/genre/${genre.name}/page/1`)}\n                    >\n                      {genre.name}\n                    </Link>\n                  </li>\n                </ul>\n              ))}\n          </div>\n\n          <div className=\"library-content\">\n            <div className=\"container-card\">\n              {movies.results &&\n                movies.results.map((movie) => (\n                  <Card\n                    key={movie.id}\n                    movie={movie}\n                    pathPoster={poster_path}\n                    pathLink={\"/movies/\"}\n                  />\n                ))}\n            </div>\n\n            <Link\n              to={nextPage}\n              onClick={this.handlePageNext}\n              className=\"btn-next\"\n            >\n              Next\n            </Link>\n            <Link\n              to={previousPage}\n              onClick={this.handlePagePrev}\n              className=\"btn-prev\"\n            >\n              Previous\n            </Link>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Library;\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/movies.jsx",["188"],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/searchTvShow.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/tvShowPage.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/tvShowService.js",["189"],"import http from \"./httpService\";\n\nconst apiKey = process.env.REACT_APP_MOVIE_API_KEY;\nconst api = process.env.REACT_APP_API_TMDB;\nconst backApi = process.env.REACT_APP_API_URL;\n\nexport function getPath(url, size, ext) {\n    const fullPath = url + size + ext;\n    return fullPath;\n  }\n\n  export function getDate(release) {\n    if (release) {\n      return release.substring(0,4);\n    } else {\n      return release;\n    }\n  }\n\n  export function getConfigTvShow() {\n    return http.get(`${api}configuration?api_key=${apiKey}`);\n  }\n\n  export function getPopularTvShow() {\n    return http.get(`${api}tv/popular?api_key=${apiKey}`);\n  }\n\n  export function getTopRatedTvShow() {\n    return http.get(`${api}tv/top_rated?api_key=${apiKey}`);\n  }\n\n  export function searchTvShow(query) {\n    return http.get(`${api}search/tv?api_key=${apiKey}$query=${query}`);\n  }\n\n  export function getTvShow(tvShowId) {\n    return http.get(`${api}tv/${tvShowId}?api_key=${apiKey}`);\n  }\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/movieService.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/utils/paginate.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/ListMovie.jsx",["190"],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/card.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/pagination.jsx",["191"],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/form.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/listFilter.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/input.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/userService.js",["192"],"import http from \"./httpService\";\n\nconst apiEndpoint = \"/users\";\n\nexport function register(user) {\n    return http.post(apiEndpoint, {\n        email: user.email,\n        password: user.password,\n        name: user.name\n    })\n}\n\nexport default {\n    register,\n}","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/httpService.js",["193"],"import axios from \"axios\";\nimport logger from \"./logService\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(\n  null,\n  (error) => {\n    const expectedError =\n      error.response &&\n      error.response.status >= 400 &&\n      error.response.status < 500;\n\n    if (!expectedError) {\n      logger.log(error);\n      toast.error(\"An unexpected error occured.\");\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nfunction setJwt(jwt) {\n  axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJwt\n};\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/logService.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/authService.js",["194"],"import jwtDecode from 'jwt-decode';\nimport http from \"./httpService\";\n\n\nconst apiEndpoint = \"/auth\";\nconst tokenKey = \"token\";\n\n// http.setJwt(getJwt())\n\nexport async function login(email, password) {\n    const { data: jwt } = await http.post(apiEndpoint, {email, password});\n    localStorage.setItem(tokenKey, jwt);\n}\n\nexport function loginWithJwt(jwt) {\n    localStorage.setItem(tokenKey, jwt)\n}\n\nexport function logout() {\n    localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n    try {\n        const jwt = localStorage.getItem(tokenKey);\n        return jwtDecode(jwt);\n      } catch (ex) {\n        return '';\n    }\n}\n\nexport function getJwt() {\n    return localStorage.getItem(tokenKey);\n}\n\nexport default {\n    login, \n    logout, \n    getCurrentUser,\n    loginWithJwt, \n    getJwt\n};\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/logout.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/protectedRoute.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/watchList.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/watchlistservice.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/services/genres.js",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/button.jsx",[],["195","196"],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/libraryGenre.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/utils/date.js",["197"],"export function formattedDate(newDate) {\n  const monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n\n  const d = new Date(newDate);\n\n  const date = d.getDate();\n  const month = monthNames[d.getMonth()]; // Since getMonth() returns month from 0-11 not 1-12\n  const year = d.getFullYear();\n\n\n  var countDownDate = new Date(newDate).getTime();\n\n  // Get todays date and time\n  var now = new Date().getTime();\n\n  // Find the distance between now an the count down date\n  var distance = countDownDate - now;\n  const text = \" (Coming Soon) \"\n  // If the count down is finished, write some text\n  if (distance < 0) {\n     return date + \" \" + month + \" \" + year;\n  } else {\n     return date + \" \" + month + \" \" + year + text;\n  }\n}\n\nexport function getDate(release) {\n  if (release) {\n    return release.substring(0,4);\n  } else {\n    return release;\n  }\n}\n\nexport default {\n  formattedDate,\n  getDate\n};\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/listMovie.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/searchBar.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/watchlistButton.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/loader.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/navbar.jsx",[],"/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/utils/path.js",["198"],"export function getPath(url, size, path) {\n    const fullPath = url + size + path;\n    return fullPath;\n  }\n\n  export default {\n      getPath\n  }","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/trailer.jsx",["199"],"import React from \"react\";\n\nconst Trailer = ({ movieKey }) => {\n  return (\n    <iframe\n      id=\"player\"\n      type=\"text/html\"\n      width=\"800\"\n      height=\"500\"\n      src={`https://www.youtube.com/embed/${movieKey}?enablejsapi=1&origin=http://example.com&modestbranding=1&rel=0&controls=1`}\n      frameBorder=\"0\"\n      allowFullScreen\n    ></iframe>\n  );\n};\n\nexport default Trailer;\n","/Users/david/Documents/Lab/AppMovie2021/appmovie-david/src/components/common/movie.jsx",["200"],"import React from \"react\";\nimport { formattedDate } from '../../utils/date';\nimport Trailer from './trailer';\n\nconst Movie = ({ movie, movieKey, isWatchlist, posterPath }) => {\n  return (\n    <React.Fragment>\n      <div className=\"img-movie\">\n        <img src={posterPath} alt=\"\" />\n      </div>\n      <div className=\"content-movie\">\n        <h2 className=\"movie-title\">\n          {movie.title} - {movie.tagline}\n        </h2>\n        <h2 className=\"movie-title\"></h2>\n        <div className=\"movieInfo\">\n          <p>{movie.release_date && formattedDate(movie.release_date)}</p>\n          <p>{movie.runtime + \"min\" ? movie.runtime + \"min\" : \"Unknown\"} </p>\n          <p>\n            {movie.vote_average} &nbsp;<i className=\"fa fa-star\"></i>\n          </p>\n        </div>\n        <div className=\"genres-movie\">\n          {movie.genres && movie.genres.map((genre) => <p key={genre.id}>{genre.name}</p>)}\n        </div>\n        <div className=\"movie-description\">{movie.overview}</div>\n\n        {movieKey && <Trailer movieKey={movieKey.key} />}\n\n        {isWatchlist}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Movie;\n",{"ruleId":"201","replacedBy":"202"},{"ruleId":"203","replacedBy":"204"},{"ruleId":"205","severity":1,"message":"206","line":132,"column":21,"nodeType":"207","messageId":"208","endLine":132,"endColumn":30},{"ruleId":"205","severity":1,"message":"209","line":58,"column":21,"nodeType":"207","messageId":"208","endLine":58,"endColumn":27},{"ruleId":"205","severity":1,"message":"209","line":128,"column":21,"nodeType":"207","messageId":"208","endLine":128,"endColumn":27},{"ruleId":"205","severity":1,"message":"209","line":75,"column":21,"nodeType":"207","messageId":"208","endLine":75,"endColumn":27},{"ruleId":"205","severity":1,"message":"210","line":5,"column":7,"nodeType":"207","messageId":"208","endLine":5,"endColumn":14},{"ruleId":"205","severity":1,"message":"211","line":1,"column":17,"nodeType":"207","messageId":"208","endLine":1,"endColumn":26},{"ruleId":"212","severity":1,"message":"213","line":14,"column":9,"nodeType":"214","endLine":18,"endColumn":10},{"ruleId":"215","severity":1,"message":"216","line":13,"column":1,"nodeType":"217","endLine":15,"endColumn":2},{"ruleId":"215","severity":1,"message":"216","line":28,"column":1,"nodeType":"217","endLine":34,"endColumn":3},{"ruleId":"215","severity":1,"message":"216","line":36,"column":1,"nodeType":"217","endLine":42,"endColumn":3},{"ruleId":"201","replacedBy":"218"},{"ruleId":"203","replacedBy":"219"},{"ruleId":"215","severity":1,"message":"216","line":48,"column":1,"nodeType":"217","endLine":51,"endColumn":3},{"ruleId":"215","severity":1,"message":"216","line":6,"column":3,"nodeType":"217","endLine":8,"endColumn":4},{"ruleId":"220","severity":1,"message":"221","line":5,"column":5,"nodeType":"214","endLine":13,"endColumn":6},{"ruleId":"222","severity":1,"message":"223","line":15,"column":9,"nodeType":"214","endLine":15,"endColumn":37},"no-native-reassign",["224"],"no-negated-in-lhs",["225"],"no-unused-vars","'watchlist' is assigned a value but never used.","Identifier","unusedVar","'result' is assigned a value but never used.","'backApi' is assigned a value but never used.","'Component' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",["224"],["225"],"jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","no-global-assign","no-unsafe-negation"]